(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{18:function(e,n,t){e.exports=t(41)},23:function(e,n,t){},41:function(e,n,t){"use strict";t.r(n);var a=t(7),u=t(6),r=t(2),c=t(0),o=t.n(c),l=t(17),i=t.n(l),m=function(e){var n=e.filterHandle;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",null,o.a.createElement("div",null,"Filter shown with: ",o.a.createElement("input",{id:"filterInput",onChange:n}))))},d=function(e){var n=e.nameHandle,t=e.numberHandle,a=e.clickHandle;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",null,o.a.createElement("div",null,"name: ",o.a.createElement("input",{id:"nameInput",onChange:n})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{id:"numberInput",onChange:t})),o.a.createElement("div",null,o.a.createElement("button",{onClick:a,type:"submit"},"add"))))},f=function(e){var n=e.personsHandled,t=e.deleteHandle,a=n.map((function(e){return o.a.createElement("h4",{key:e.id},e.name," ",e.number,o.a.createElement("button",{key:e.id,type:"text",onClick:function(){return t(e.id)}},"Delete"))}));return o.a.createElement(o.a.Fragment,null,a)},s=function(e){var n=e.message,t=e.status;return null===n?null:o.a.createElement("div",{className:t},n)},b=(t(23),t(4)),p=t.n(b),h="https://phonebook-app-victorreverter.herokuapp.com/api/persons",v=function(){return p.a.get(h).then((function(e){return e.data}))},E=function(e){return p.a.post(h,e).then((function(e){return e.data}))},j=function(e,n){return p.a.delete("".concat(h,"/").concat(e),{persons:n})},O=function(e,n){return p.a.put("".concat(h,"/").concat(e),{name:e,number:n}).then((function(e){return e.data}))},g=function(){var e=Object(c.useState)([]),n=Object(r.a)(e,2),t=n[0],l=n[1],i=Object(c.useState)(""),b=Object(r.a)(i,2),p=b[0],h=b[1],g=Object(c.useState)(""),k=Object(r.a)(g,2),y=k[0],w=k[1],H=Object(c.useState)(Object(u.a)(t)),S=Object(r.a)(H,2),I=S[0],C=S[1],D=Object(c.useState)(""),q=Object(r.a)(D,2),F=q[0],N=q[1],T=Object(c.useState)(""),x=Object(r.a)(T,2),A=x[0],J=x[1];Object(c.useEffect)((function(){console.log("effect"),v().then((function(e){l(e),C(e)}))}),[]);return o.a.createElement("div",{className:"wrap"},o.a.createElement("h2",null,"Phonebook"),o.a.createElement(s,{message:F,status:A}),o.a.createElement(m,{filterHandle:function(e){e.preventDefault();var n=t.filter((function(n){return n.name.includes(e.target.value)}));C(n)}}),o.a.createElement("h2",null,"Add a New"),o.a.createElement(d,{nameHandle:function(e){h(e.target.value)},numberHandle:function(e){w(e.target.value)},clickHandle:function(e){e.preventDefault();var n={name:p,number:y,id:p};if(t.some((function(e){return e.name===p&&t.some((function(e){return e.number===y}))})))alert("".concat(p," is already added to phonebook"));else if(t.some((function(e){return e.name===p}))&&t.some((function(e){return e.number!==y}))){var r="".concat(p," is already added to phonebook but the number is different. Do you want update the number?");window.confirm(r)&&(O(p,y).then((function(e){document.querySelector("#nameInput").value="",document.querySelector("#numberInput").value="",h(""),w("");var n=t.map((function(n){return n.id===e.id?Object(a.a)(Object(a.a)({},n),{},{number:e.number}):n}));l(n),C(n)})),N("The number of ".concat(p," has been modified")),J("num-modified"),setTimeout((function(){N(null)}),5e3))}else document.querySelector("#nameInput").value="",document.querySelector("#numberInput").value="",l([].concat(Object(u.a)(t),[{name:p,number:y}])),C([].concat(Object(u.a)(t),[{name:p,number:y}])),E(n).then((function(e){l(t.concat(e)),h(""),w("")})),N("Added ".concat(p)),J("successfull"),setTimeout((function(){N(null)}),5e3)}}),o.a.createElement("h2",null,"Numbers"),o.a.createElement(f,{personsHandled:I,deleteHandle:function(e){var n=t.filter((function(n){return n.id===e})),a=t.filter((function(n){return n.id!==e})),u="Do you really want to delete ".concat(e,"?");window.confirm(u)&&(j(e,n),l(a),C(a))}}),o.a.createElement("div",null,"debug: ",p))};i.a.render(o.a.createElement(g,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.950dfb65.chunk.js.map